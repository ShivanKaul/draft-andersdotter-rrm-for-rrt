



Network Working Group                                    A. Andersdotter
Internet-Draft                                                ARTICLE 19
Intended status: Informational                                  S. Sahib
Expires: April 16, 2020                                       Salesforce
                                                        October 14, 2019


     Randomized Response Mechanisms in RRT Measurements for HTTP/3
               draft-andersdotter-rrm-for-rrt-in-http3-00

Abstract

   This draft summarizes the results of an inquiry into the potential of
   using randomized response mechanism (RRM) to preserve privacy in
   round-trip time (RTT) measurements in HTTP3.  It concludes that RRM
   is not a feasible mechanism for privacy preservation for such
   measurements.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 16, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Andersdotter & Sahib     Expires April 16, 2020                 [Page 1]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Randomized Response Mechanisms  . . . . . . . . . . . . . . .   2
   3.  Application to Spin Bit . . . . . . . . . . . . . . . . . . .   3
     3.1.  RRM at reflection/inversion . . . . . . . . . . . . . . .   5
     3.2.  RRM at each bit . . . . . . . . . . . . . . . . . . . . .   5
   4.  Conclusion  . . . . . . . . . . . . . . . . . . . . . . . . .   6
   5.  Informative References  . . . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   At the IETF104 convening of the Privacy Enhancements and (PEA)
   Research Group, a presentation on Differential Privacy ([AA-CL]) gave
   rise to the idea of trying to apply Randomized Response methods to
   the QUIC Spin Bit described in [TRAMMEL] and [KUEHLEWIND].  The QUIC
   Spin Bit had generated controversy from a privacy perspective, both
   in the Working Group meetings and on e-mailing lists and been re-
   ignited through the publication of a subsequent Human Rights
   Consideration in [TENOEVER-MARTINI].

   Randomized response trials were originally created for binary
   environments: if a series of measurements has only two possible
   outcomes (0 or 1, yes or no, true or false, for instance), it is the
   idea that allowing individual respondents to answer "falsely" at a
   predictable rate will still preserve the ability to make inferences
   on the entire set of respondents.  The Spin Bit, being a bit, is
   binary outcome variable.  Each time it is measured, the idea is that
   it can either "truthfully" report its value as what it should be
   according to [TRAMMEL], or it could, at some known rate or
   probability, report the opposite value.

2.  Randomized Response Mechanisms

   Randomized Response Mechanisms (RRM) rely on the ability to make
   sense of data with known errors and were originally developed to
   facilitate surveys on sensitive topics such as alcohol or drug abuse,
   or political affiliation.  The design allows a survey taker to
   provide, with some known probability P, a "false" answer ("yes"
   instead of "no", for example) to a survey question.  It is meant to
   encourage truthful answers even in surveys where participants may
   otherwise feel compelled to give false answers.





Andersdotter & Sahib     Expires April 16, 2020                 [Page 2]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


   RRMs are most easily illustrated for binary response problems.  Let's
   take as an example "Did you go to the last IETF meeting?"  The answer
   to this question is either yes or no.  If 30% of all responses are
   known to be false, we have four categories of responses: true yes,
   true no, false yes and false no.  From these numbers we can calculate
   the proportion of recurring visitors to the IETF.

   RRMs can also be applied to multiple choice questions.  Estimation of
   true proportions becomes more difficult as the number of possible
   answers per question goes up.  Further examples can be found in
   [DWORK] and [FOX].

3.  Application to Spin Bit

   As described in [TRAMMEL], the Spin Bit is a mechanism for measuring
   round-trip-times (RTT) in the QUIC protocol.  Its operation is
   captured by the following five images:

   Initially, during connection establishment, no packets with a spin
   bit are in flight, as shown in Figure 1.

   +--------+   -  -  -  -  -   +--------+
   |        |     -------->     |        |
   | Client |                   | Server |
   |        |     <--------     |        |
   +--------+   -  -  -  -  -   +--------+

      Figure 1: Initial state, no spin bit between client and server

   Either the server, the client, or both can begin sending packets with
   short headers after connection establishment, as shown in Figure 2;
   here, no spin edges are yet in transit.

   +--------+   0  0  -  -  -   +--------+
   |        |     -------->     |        |
   | Client |                   | Server |
   |        |     <--------     |        |
   +--------+   -  -  0  0  0   +--------+

       Figure 2: Client and server begin sending packets with spin 0

   Once the server's first 0-marked packet arrives at the client, the
   client sets its spin value to 1, and begins sending packets with the
   spin bit set, as shown in Figure 3.  The spin edge is now in transit
   toward the server.






Andersdotter & Sahib     Expires April 16, 2020                 [Page 3]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


   +--------+   1  0  0  0  0   +--------+
   |        |     -------->     |        |
   | Client |                   | Server |
   |        |     <--------     |        |
   +--------+   0  0  0  0  0   +--------+

                     Figure 3: The bit begins spinning

   Five ticks later, this packet arrives at the server, which takes its
   spin value from it and reflects that value back on the next packet it
   sends, as shown in Figure 4.  The spin edge is now in transit toward
   the client.

   +--------+   1  1  1  1  1   +--------+
   |        |     -------->     |        |
   | Client |                   | Server |
   |        |     <--------     |        |
   +--------+   0  0  0  0  1   +--------+

                  Figure 4: Server reflects the spin edge

   Five ticks later, the 1-marked packet arrives at the client, which
   inverts its spin value and sends the inverted value on the next
   packet it sends, as shown in Figure 5.

         obs. points  X  Y
   +--------+   0  1  1  1  1   +--------+
   |        |     -------->     |        |
   | Client |                   | Server |
   |        |     <--------     |        |
   +--------+   1  1  1  1  1   +--------+
                         Y

                  Figure 5: Client inverts the spin edge

   In each iteration of Figure 4-Figure 5 the a sequence of 0s or 1s the
   length of which is k0 for iteration 0, k1 for iteration 1, and so
   forth, can be measured (by X or Y in the picture).  The length of
   each sequence equals the amount of ticks required to pass from the
   client back to the client.  After n iterations, an average can be
   taken of the measurements (k0, ..., kn).  This average can be
   multiplied by the amount of time per tick (a quantity which is
   assumed to be known) to get a value for the round-trip time (RTT).

   Applying randomized response mechanisms (RRMs) would boil down to
   perturbing the measurements (k0, ..., kn).  Such perturbation could
   happen in different ways.




Andersdotter & Sahib     Expires April 16, 2020                 [Page 4]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


   RRMs could be applied so that that each bit transmitted from the
   client and the server has a probability P of being the "wrong" value.
   It could also be applied so that the reflections/inversions described
   in Figure 4-Figure 5 do not occur with probability Q.  The server or
   the client could be assumed to always behave as described in
   Figure 4-Figure 5 with no RRM.  Different probabilities could be
   applied to the server and client, respectively, transmitting a
   "wrong" value or delaying a reflection.

3.1.  RRM at reflection/inversion

   The omission of a reflection or inversion would create difficulties.
   Namely, let's say the client omits the inversion in Figure 5.  Now
   there is no longer a spin edge so there is nothing to activate future
   reflections/inversions.

   A possible work-around is having an additional bit to indicate a spin
   edge, assigned by the server to the bit which is (not) reflected in
   Figure 4, or by the client to the bit which is (not) inverted in
   Figure 5.  In this case there would not be a point in applying RRM
   since the placement of the spin edge would no longer be obfuscated.
   The omission of a reflection/inversion would be defeated by the
   presence of an alternate identifier.

   Another possible work-around is to do random re-sets of the spin bit,
   i.e., starting the process fresh from Figure 2.  Observers X and Y in
   Figure 5 would then get a series of measurements (k0, ..., kn), some
   of which were far too large, but would, over time, be able to deduce
   RTT from the smaller measurements.  The expected proportion of large
   and small measurements in the whole set of measurements could be
   determined from the probabilities that a reflection/inversion does
   not happen and the probability that the spin bit is re-initiated.

3.2.  RRM at each bit

   Let's say any bit transmitted from either the client or the server is
   "off" in relation to what it proposed in the Spin Bit model with some
   probability P.  If P -> 0.5, the spinning bits will come across as a
   random 0s and 1s and it will be difficult to estimate any edge.
   However, if P is less than 0.5, the spin edge can be estimated for
   instance by computing an average number of 0s or 1s in the past m
   ticks.  For all averages above some cut-off rate, a measurement
   counter could be incremented by one.  Eventually one would end up
   with a series (k'0, ..., k'n) that roughly corresponds to (k0, ...,
   kn) above.






Andersdotter & Sahib     Expires April 16, 2020                 [Page 5]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


4.  Conclusion

   The spin bit is associated with an IP address which creates
   linkability (see [RFC6973] and [RFC8280]).  The privacy concern
   associated with a spin bit is, additionally, that latency
   measurements will enable inferrence of the location or distance of
   the device associated with that particular IP address.

   Randomized response mechanisms (RRM) would either cause the utility
   of the spin bit to disappear entirely (by rendering any measurement
   futile) or preserver the primary privacy-reducing inferrence, as long
   as a sufficiently large amount sequential measurements were done.
   Each measurement would continue to be tied to fixed identifier, which
   necessarily implies privacy loss.

   For this reason, it is not clear that RRM would ultimately bring any
   particular privacy benefit beyond what is already guaranteed in the
   present proposal.

5.  Informative References

   [AA-CL]    Andersdotter, A. and C. Laengstroem, "Differential Privacy
              (PEARG, IETF104)", March 2019,
              <https://datatracker.ietf.org/meeting/104/materials/
              slides-104-pearg-amelia-christoffer-differential-privacy-
              00>.

   [DWORK]    Roth, A. and C. Dwork, "The Algorithmic Foundations of
              Differential Privacy", 2014,
              <https://www.cis.upenn.edu/~aaroth/Papers/
              privacybook.pdf>.

   [FOX]      Fox, J., "Randomized Response and Related Methods:
              Surveying Sensitive Data", February 2017.

   [KUEHLEWIND]
              Kuehlewind, M. and B. Trammel, "The QUIC Latency Spin Bit
              (draft-ietf-quic-spin-exp-01)", October 2018,
              <https://tools.ietf.org/html/draft-ietf-quic-spin-exp-01>.

   [RFC6973]  Cooper, A., Tschofenig, H., Aboba, B., Petersen, J.,
              Morris, J., Hansen, M., and R. Smith, "Privacy
              Considerations for Internet Protocols", RFC 6973,
              DOI 10.17487/RFC6973, July 2013,
              <https://www.rfc-editor.org/info/rfc6973>.






Andersdotter & Sahib     Expires April 16, 2020                 [Page 6]

Internet-Draft            rrm-for-rrt-in-http3              October 2019


   [RFC8280]  Ten Oever, N. and C. Cath, "Human Rights Considerations
              for Internet Protocols", RFC 8280, DOI 10.17487/RFC8280,
              October 2017, <https://www.rfc-editor.org/info/rfc8280>.

   [TENOEVER-MARTINI]
              Martini, B. and N. Ten Oever, "QUIC Human Rights Review
              (draft-martini-hrpc-quichr-00)", October 2018,
              <https://tools.ietf.org/html/
              draft-martini-hrpc-quichr-00>.

   [TRAMMEL]  Trammel, B., Boucadair, M., Even, R., Fioccola, G.,
              Fossati, T., Ihlar, M., Morton, A., and E. Stephan,
              "Adding Explicit Passive Measurability of Two-Way Latency
              to the QUIC Transport Protocol (draft-trammell-quic-spin-
              03)", May 2018, <https://www.ietf.org/archive/id/
              draft-trammell-quic-spin-03.txt>.

Authors' Addresses

   Amelia Andersdotter
   ARTICLE 19
   Free Word Centre, 60 Farringdon Road
   London EC1R 3GA
   United Kingdom

   Email: amelia@article19.org


   Shivan Sahib
   Salesforce

   Email: shivankaulsahib@gmail.com



















Andersdotter & Sahib     Expires April 16, 2020                 [Page 7]
